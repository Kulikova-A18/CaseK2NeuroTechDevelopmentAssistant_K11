# routes.yaml — API route configuration file
#
# Each route must define the following fields:
#
#   path:        (str) URL path. May include Flask-style converters like <int:id>.
#   method:      (str) HTTP method. Allowed: GET, POST, PUT, DELETE.
#   entity:      (str) Logical data entity. Supported values:
#                  - tasks      → task management (CRUD)
#                  - docs       → document management (CRUD)
#                  - events     → calendar events (list/create only)
#                  - telegram   → external integration (auth/notify)
#   action:      (str) Operation to perform (e.g., list, create).
#   description: (str, optional) Human-readable explanation of the endpoint.
#   example:     (str, optional) Example curl command or JSON body.

routes:
  - path: /api/tasks
    method: GET
    entity: tasks
    action: list
    description: Retrieve a list of all tasks.
    example: 'curl http://localhost:5000/api/tasks'

  - path: /api/tasks
    method: POST
    entity: tasks
    action: create
    description: Create a new task.
    example: 'curl -X POST http://localhost:5000/api/tasks -H "Content-Type: application/json" -d ''{"title":"Buy milk"}'''

  - path: /api/tasks/<int:id>
    method: PUT
    entity: tasks
    action: update
    description: Update an existing task by ID.
    example: 'curl -X PUT http://localhost:5000/api/tasks/1 -H "Content-Type: application/json" -d ''{"title":"Buy bread","completed":true}'''

  - path: /api/tasks/<int:id>
    method: DELETE
    entity: tasks
    action: delete
    description: Delete a task by its ID.
    example: 'curl -X DELETE http://localhost:5000/api/tasks/1'

  - path: /api/docs
    method: GET
    entity: docs
    action: list
    description: Retrieve a list of all documents.
    example: 'curl http://localhost:5000/api/docs'

  - path: /api/docs
    method: POST
    entity: docs
    action: create
    description: Create a new document.
    example: 'curl -X POST http://localhost:5000/api/docs -H "Content-Type: application/json" -d ''{"name":"Report.pdf","content":"..."}'''

  - path: /api/docs/<int:id>
    method: PUT
    entity: docs
    action: update
    description: Update an existing document by ID.
    example: 'curl -X PUT http://localhost:5000/api/docs/1 -H "Content-Type: application/json" -d ''{"content":"Updated content"}'''

  - path: /api/calendar/events
    method: GET
    entity: events
    action: list
    description: Retrieve all calendar events.
    example: 'curl http://localhost:5000/api/calendar/events'

  - path: /api/calendar/events
    method: POST
    entity: events
    action: create
    description: Create a new calendar event.
    example: 'curl -X POST http://localhost:5000/api/calendar/events -H "Content-Type: application/json" -d ''{"title":"Meeting","start":"2025-12-10T10:00:00"}'''

  - path: /api/telegram/auth
    method: POST
    entity: telegram
    action: auth
    description: Authenticate a user via Telegram user ID.
    example: 'curl -X POST http://localhost:5000/api/telegram/auth -H "Content-Type: application/json" -d ''{"user_id":12345}'''

  - path: /api/telegram/notify
    method: POST
    entity: telegram
    action: notify
    description: Send a notification to a Telegram chat.
    example: 'curl -X POST http://localhost:5000/api/telegram/notify -H "Content-Type: application/json" -d ''{"chat_id":12345,"message":"Hello from server!"}'''